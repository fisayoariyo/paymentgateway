<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Gateway</title>
    <style>
        body {font-family: Arial; display:flex; justify-content:center; align-items:center; height:100vh; background:#f5F5F5; }
        form {background:#fff; padding:20px; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.1); width:300px; }
        input, button {width:100%; padding:10px; margin:5px 0; }
        button {background:#0070f3; color:#fff; border:none; cursor:pointer; }
    </style>
</head>
<body>
    <form id="payment-form">
        <h2>Pay Now</h2>
        <input type="email" name="email" placeholder="Your email" required />
        <input type="number" name="amount" placeholder="Amount (NGN)" required />
        <button type="submit">Pay</button>
        </form>

    <!-- PAYSTACK SCRIPT -->
    <script src="https://js.paystack.co/v1/inline.js"></script>
    
    <script>
        const form = document.getElementById('payment-form');
        form.addEventListener('submit', function(e){e.preventDefault();

            let email = form.email.value;
            let amount = form.amount.value * 100; // in kobo
            if(!email || !amount) return alert("Please fill all fields");

            let handler = PaystackPop.setup({
                key: 'pk_test_983290a52efdf5a6eb76771b8e4189d5ebc1e043',
                email: email,
                amount: amount,
                currency: "NGN",
                ref: 'txn_' + Math.floor(Math.random() * 1000000000),
                callback: function(response){
                    alert('Payment complete! Ref: ' + response.reference);
                    window.location.href = "/success.html"; //optional success page
                },
                onClose: function(){
                    alert('Payment cancelled.');
                }
                });

                handler.openIframe();
            });
    </script>
</body>
</html>